<div class="border rounded p-2 mb-2 bg-white">
    <strong>{{ comment.author }}</strong> â€” {{ comment.created_at }}<br>
    <p>{{ comment.text|linebreaks }}</p>

    {% if user.is_authenticated %}
    <form method="POST" action="{% url 'add_comment' post.pk %}" class="mt-2">
        {% csrf_token %}
        <textarea name="text" rows="2" class="form-control mb-1" placeholder="Odpowiedz..."></textarea>
        <input type="hidden" name="parent_id" value="{{ comment.id }}">
        <button class="btn btn-sm btn-outline-primary">Odpowiedz</button>
    </form>
    {% endif %}

    {% if comment.replies.all %}
        <div class="ms-4 mt-2">
            {% for reply in comment.replies.all %}
                {% include "comments/comment.html" with comment=reply %}
            {% endfor %}
        </div>
    {% endif %}
</div>
